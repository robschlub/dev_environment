$title-height: 50px;
$title-font-size: 30px;
$np_button-width: 40px;
$np_button-height: 60px;
$np_button-vspace: 5px;
$np_button-hspace: 30px;
$top_margin-no_navbar: 20px;
$top_margin-with_navbar: 70px;
$bottom_margin: 50px;
$side-margin: 10px;

$diagram_ratio: 1.5;

@media (min-aspect-ratio: 1/100) {
  :root {
    --lesson__container-width: 90vw;
  }
}

@media (min-aspect-ratio: 1/1) {
  :root {
    --lesson__container-width: calc(90vw - #{$side-margin} * 2);
  }
}

@media (min-width: calc(#{$xl})) {
  :root {
    --lesson__container-width: calc(#{$xl} - #{$side-margin} * 2);
  }
}

:root {
  --lesson__content-width: var(--lesson__container-width);
  --lesson__content-height: calc(var(--lesson__content-width) / #{$diagram_ratio});
  --lesson__container-height: calc(var(--lesson__content-height) + #{$np_button-vspace} + #{$np_button-height});
}

.lesson__container {
  position: relative;
  margin-left: auto;
  margin-right: auto;
  width: var(--lesson__container-width);
  height: var(--lesson__container-height);
  margin-bottom: $bottom_margin;
}

#multipage_diagram {
  width: var(--lesson__content-width);
  height: var(--lesson__content-height);
}

.lesson__text p {
  color: $color_text;
}

.lesson__title {
  font-size: $title-font-size;
  color: $color_text;
  height: $title-height;      //Check this is working
  text-align: center;
  margin-top: $top_margin-no_navbar;
}

.btn-multi-page-lesson {
  position: absolute;
  // width: $np_button-width;
  // height: $np_button-height;
  border-style: none;
  border: 0;
  padding: 0;
  // color: $color_background;
  background-color: $color_background;
  // border-radius: 3px;
  top: calc(100% - #{$np_button-height});
  width: 0;
  height: 0;
  border-top: calc(#{$np_button-height} / 2) solid transparent;
  border-bottom: calc(#{$np_button-height} / 2) solid transparent;
}

#lesson__button-previous {
  left: 0;
  border-right: $np_button-width solid $color_primary;
}

#lesson__button-next {
  right: 0;
  border-left: $np_button-width solid $color_primary;
}

#lesson__button-next:hover {
  border-left: $np_button-width solid lighten($color_primary, 10);
}

#lesson__button-previous:hover {
  border-right: $np_button-width solid lighten($color_primary, 10);
}

@media (min-aspect-ratio: 1/1) {
  :root {
    --lesson__content-width: calc(var(--lesson__container-width) - 2 * #{$np_button-width} - 2 * #{$np_button-hspace});
    --lesson__content-height: calc(var(--lesson__content-width) / #{$diagram_ratio});
    --lesson__container-height: var(--lesson__content-height);
    //
    --lesson__max_container-height: 90vh;
    --lesson__max_content-height: var(--lesson__max_container-height);
    --lesson__max_content-width: calc(var(--lesson__max_content-height) * #{$diagram_ratio});
    --lesson__max_container-width: calc(var(--lesson__max_content-width) + 2 * #{$np_button-width} + 2 * #{$np_button-hspace});
  }

  .lesson__container {
    width: var(--lesson__container-width);
    height: var(--lesson__container-height);
    margin-left: auto;
    margin-right: auto;
    max-height: var(--lesson__max_container-height);
    max-width: var(--lesson__max_container-width);
  }

  #multipage_diagram {
    display: inline-block;
    width: var(--lesson__content-width);
    height: var(--lesson__content-height);
    margin-left: $np_button-hspace;
    margin-right: $np_button-hspace;
    max-height: var(--lesson__max_content-height);
    max-width: var(--lesson__max_content-width);
  }

  .btn-multi-page-lesson {
    position: relative;
    top: calc(50% - #{$np_button-height} / 2);
    display: inline-block;
    vertical-align: top;
    // height: var(--lesson__content-height);
    // max-height: var(--lesson__max_content-height);
    // width: $np_button-width;
  }

  .lesson__text p {
    color: red;
  }
}

.lesson-clear-floats {
  clear: both;
}

.lesson__arrow-right {
  width: 0;
  height: 0;
  border-top: 60px solid transparent;
  border-bottom: 60px solid transparent;
  border-left: 60px solid green;
}
