// https://codepen.io/jakealbaugh/post/css4-variables-and-sass
@import "../../css/style";

$color-lines: $color_primary;
$color-corners: $color_secondary;
$color-moreSharp: $color_highlight;
$color-lessSharp: $color_safe;
$color-anchor: $color_passive;
$color-radius: $color_primary;
$color-reference: $color_secondary;
$color-background: $color_diagram;

$_lesson_vars: (
  test: 5,
  linewidth: 0.03,
  radius: 1.8,
  // <1/2
  portrait-narrow: (
    x-min: -2, x-max: 2,
    y-min: -3, y-max: 3,
    ratio:  1,
    square: (center-x:  -1, center-y:   1),
    tri:    (center-x:   0, center-y:   0),
    pent:   (center-x:   1, center-y:  -1),
    circle: (center-x:   0, center-y:   0),
  ),
  // 1/2 -> 1/1
  portrait: (
    x-min: -2, x-max: 2,
    y-min: -2, y-max: 2,
    ratio:  1,
    square: (center-x:  -1, center-y:  -1),
    tri:    (center-x:   0, center-y:   0),
    pent:   (center-x:   1, center-y:   1),
    circle: (center-x:   0, center-y:   0),
  ),
  // 1/1 -> 2/1
  landscape: (
    x-min:   -3, x-max:   3,
    y-min:   -2, y-max:   2,
    ratio:    1,
    square: (center-x:  -2, center-y:   0),
    tri:    (center-x:   0, center-y:   0),
    pent:   (center-x:   2, center-y:   0),
    circle: (center-x:   0, center-y:   0),
  ),
  // >2/1
  landscape-wide: (
    x-min:   -4, x-max:   4,
    y-min:   -2, y-max:   2,
    ratio:    1,
    square: (center-x:  -3, center-y:   0),
    tri:    (center-x:   0, center-y:   0),
    pent:   (center-x:   3, center-y:   0),
    circle: (center-x:   2, center-y:   0),
  ),
);

#lesson__container_name {
  @each $var, $value in $_lesson_vars {
    @if type-of($value) == "map" {
      @each $subvar, $subvalue in $value {
        @if type-of($subvalue) == "map" {
          @each $subsubvar, $subsubvalue in $subvalue {
            --lessonvars-#{$var}-#{$subvar}-#{$subsubvar}: #{$subsubvalue};
          }
        }

        @else {
          --lessonvars-#{$var}-#{$subvar}: #{$subvalue};
        }
      }
    }

    @else {
      --lessonvars-#{$var}: #{$value};
    }
  }
}

// @function get-lesson-vars($level1, $level2: null, $level3: null) {
//   @if ($level3 != null) {
//     @return map-get(map-get(map-get($_lesson_vars, $level1), $level2), $level3);
//   }

//   @if ($level2 != null) {
//     @return map-get(map-get($_lesson_vars, $level1), $level2);
//   }

//   @return map-get($_lesson_vars, $level1);
// }
@mixin lesson-breakpoint-vars($size) {
  @each $var, $value in map-get($_lesson_vars, $size) {
    @if type-of($value) == "map" {
      @each $subvar, $subvalue in $value {
        --lessonvars-#{$var}-#{$subvar}: #{$subvalue};
      }
    }

    @else {
      --lessonvars-#{$var}: #{$value};
    }
  }
}

// @media screen and (min-width: 0) and (orientation: portrait) {
//   #lesson__container_name {
//     @include lesson-breakpoint-vars(xs-portrait);
//   }

//   #id_shapes {
//     color: red;
//   }
// }

// @media screen and (min-width: 0) and (orientation: landscape) {
//   #lesson__container_name {
//     @include lesson-breakpoint-vars(xs-landscape);
//   }

//   #id_shapes {
//     color: blue;
//   }
// }

// @media screen and (min-width: $small-tablet) and (orientation: landscape) {
//   #lesson__container_name {
//     @include lesson-breakpoint-vars(xs-landscape);
//   }
// }

@media (min-aspect-ratio: 1/100) {
  #lesson__container_name {
    @include lesson-breakpoint-vars(portrait-narrow);
  }
}

@media (min-aspect-ratio: 1/2) {
  #lesson__container_name {
    @include lesson-breakpoint-vars(portrait);
  }
}

@media (min-aspect-ratio: 1/1) {
  #lesson__container_name {
    @include lesson-breakpoint-vars(landscape);
  }
}

@media (min-aspect-ratio: 2/1) {
  #lesson__container_name {
    @include lesson-breakpoint-vars(landscape-wide);
  }
}

// @media (min-width: 0) {
//   #id_shapes {
//     color: cyan;
//   }
// }

// @media (min-aspect-ratio: 1/10) {
//   #lesson__container_name {
//     @include lesson-breakpoint-vars(md);
//   }

//   #id_shapes {
//     color: green;
//   }
// }

// @media (min-aspect-ratio: 2/1) {
//   #id_shapes {
//     color: purple;
//   }
// }

// @media (min-width: $desktop) {
//   #lesson__container_name {
//     @include lesson-breakpoint-vars(lg);
//   }

//   #id_shapes {
//     color: yellow;
//   }
// }
// @include media-breakpoint-up(xs) {
//   $size: xs;

//   #lesson__container_name {
//     @include lesson-breakpoint-vars($size);
//   }
// }

// @include media-breakpoint-up(md) {
//   $size: md;

//   #lesson__container_name {
//     @include lesson-breakpoint-vars($size);
//   }
// }

.action_word {
  font-weight: bold;
  cursor: pointer;
}

// #id_shapes {
//   color: $color-lines;
// }

#id_corners {
  color: $color-corners;
}

#id_more_sharp {
  color: $color-moreSharp;
}

#id_less_sharp {
  color: $color-lessSharp;
}

#id_lines,
#id_line {
  color: $color-radius;
}

#id_anchor {
  color: $color-anchor;
}

#id_corner {
  color: $color-corners;
}

#id_small_rotation,
#id_more_sharp_cornern {
  color: $color-moreSharp;
}

#id_large_rotation,
#id_less_sharp_corner {
  color: $color-lessSharp;
}

#circle_container {
  position: relative;
  left: 0;
  top: 0;
  margin-left: auto;
  margin-right: auto;
}

.circle-diagram-and-text-container {
  //
  // display: table;
  height: 600px;
}

@include media-breakpoint-up(xs) {
  #circle_container {
    width: 80vmin;
    height: 80vmin;
    // padding-top: 100%;
  }
}

// @include media-breakpoint-up(sm) {
// }

@include media-breakpoint-up(md) {
  #circle_container {
    // width: 400px;
    // padding-top: 400px;
    // height: 200px;
    width: 50vmin;
    height: 50vmin;
    // height: 400px;
    // padding-top: 0;
    // padding-top: 50%;
    // float: right;
    // margin-left: auto;
    // margin-right: 0;
  }

  .circle-diagram-text-container {
    // margin-top: 100px;
    // display: table-cell;
    // vertical-align: middle;
    // width: 200px;
  }
}

@include media-breakpoint-up(lg) {
  // #circle_container {
  //   width: 50%;
  //   padding-top: 50%;
  // }
  // #lesson__container_name {
  //   --lessonvars-x-min: $_lesson_vars.md.x-min;
  //   --lessonvars-x-max: $_lesson_vars.md.x-max;
  //   --lessonvars-y-min: $_lesson_vars.md.y-min;
  //   --lessonvars-y-max: $_lesson_vars.md.y-max;
  // }
}

// @include media-breakpoint-up(xl) {
// }

/* stylelint-disable property-case, property-no-unknown, selector-pseudo-class-no-unknown */
:export {
  colorLines: $color-lines;
  colorCorners: $color-corners;
  colorMoreSharp: $color-moreSharp;
  colorLessSharp: $color-lessSharp;
  colorAnchor: $color-anchor;
  colorRadius: $color-radius;
  colorReference: $color-reference;
  colorBackground: $color-background;
}
/* stylelint-enable */

#shapes_container {
  position: relative;
  width: 100%;
  padding-top: 67%;
  left: 0;
  top: 0;
}

// #lesson__container_name {
//   // @each $var, $value in $_lesson_variables {
//   //   @if type-of($value) == "map" {
//   //     @each $subvar, $subvalue in $value {
//   //       --lessonvar-#{$var}-#{$subvar}: #{$subvalue};
//   //     }
//   //   }

//   //   @elseif type-of($value) == "number" {
//   //     --lessonvar-#{$var}: #{$value};
//   //   }

//   //   @elseif type-of($size) == "string" {
//   //     --lessonvar-#{$var}: #{$value};
//   //   }
//   // }
//   --lessonvars-x-min: 4;
//   --lessonvars-x-max: 4;
//   --lessonvars-y-min: 4;
//   --lessonvars-ymax: 4;
// }
